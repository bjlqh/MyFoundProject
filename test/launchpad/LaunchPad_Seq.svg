<svg width="900" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .actor { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .message { font-family: Arial, sans-serif; font-size: 12px; }
      .lifeline { stroke: #333; stroke-width: 2; stroke-dasharray: 5,5; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .activation { fill: #e6f3ff; stroke: #333; stroke-width: 1; }
      .note { fill: #ffffcc; stroke: #333; stroke-width: 1; }
      .revenue { fill: #90EE90; stroke: #333; stroke-width: 1; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- 标题 -->
  <text x="450" y="30" class="title">ERC20代币Meme交易与管理员收益时序图</text>
  
  <!-- 参与者 -->
  <rect x="50" y="60" width="100" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5"/>
  <text x="100" y="85" class="actor">管理员</text>
  
  <rect x="220" y="60" width="120" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5"/>
  <text x="280" y="85" class="actor">ERC20合约</text>
  
  <rect x="400" y="60" width="120" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5"/>
  <text x="460" y="85" class="actor">流动性池</text>
  
  <rect x="580" y="60" width="100" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5"/>
  <text x="630" y="85" class="actor">买家</text>
  
  <rect x="740" y="60" width="120" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5"/>
  <text x="800" y="85" class="actor">管理员收益</text>
  
  <!-- 生命线 -->
  <line x1="100" y1="100" x2="100" y2="650" class="lifeline"/>
  <line x1="280" y1="100" x2="280" y2="650" class="lifeline"/>
  <line x1="460" y1="100" x2="460" y2="650" class="lifeline"/>
  <line x1="630" y1="100" x2="630" y2="650" class="lifeline"/>
  <line x1="800" y1="100" x2="800" y2="650" class="lifeline"/>
  
  <!-- 步骤1: 构造ERC20代币 -->
  <rect x="275" y="130" width="10" height="60" class="activation"/>
  <line x1="100" y1="140" x2="275" y2="140" class="arrow"/>
  <text x="180" y="135" class="message">1. 部署ERC20代币合约</text>
  <text x="180" y="150" class="message">constructor(name, symbol, totalSupply)</text>
  
  <line x1="285" y1="170" x2="100" y2="170" class="arrow"/>
  <text x="180" y="165" class="message">返回: 代币合约地址</text>
  
  <!-- 注释框1 -->
  <rect x="20" y="200" width="160" height="40" class="note" rx="5"/>
  <text x="100" y="215" class="message" text-anchor="middle">创建Meme代币</text>
  <text x="100" y="230" class="message" text-anchor="middle">设置总供应量</text>
  
  <!-- 步骤2: 初期销售阶段 -->
  <rect x="275" y="260" width="10" height="80" class="activation"/>
  <rect x="795" y="260" width="10" height="80" class="activation"/>
  <line x1="630" y1="270" x2="285" y2="270" class="arrow"/>
  <text x="450" y="265" class="message">2. 买家直接购买代币 (buyToken)</text>
  <text x="450" y="280" class="message">支付ETH购买代币</text>
  
  <!-- 管理员收益1 -->
  <line x1="285" y1="300" x2="795" y2="300" class="arrow"/>
  <text x="540" y="295" class="message">95%收益立即转给管理员</text>
  
  <line x1="285" y1="320" x2="630" y2="320" class="arrow"/>
  <text x="450" y="315" class="message">铸造代币给买家</text>
  
  <!-- 收益注释1 -->
  <rect x="720" y="350" width="160" height="55" class="revenue" rx="5"/>
  <text x="800" y="365" class="message" text-anchor="middle">💰 收益阶段1</text>
  <text x="800" y="380" class="message" text-anchor="middle">每次直接购买</text>
  <text x="800" y="395" class="message" text-anchor="middle">立即获得95%收益</text>
  
  <!-- 步骤3: 创建流动性池 -->
  <rect x="455" y="430" width="10" height="80" class="activation"/>
  <line x1="100" y1="440" x2="455" y2="440" class="arrow"/>
  <text x="270" y="435" class="message">3. 代币售罄后自动创建流动性池</text>
  <text x="270" y="450" class="message">addLiquidity(token, ETH)</text>
  
  <!-- 流动性池与ERC20交互 -->
  <rect x="275" y="460" width="10" height="30" class="activation"/>
  <line x1="460" y1="470" x2="285" y2="470" class="arrow"/>
  <text x="370" y="465" class="message">mintForLiquidity(5%代币)</text>
  
  <line x1="465" y1="490" x2="100" y2="490" class="arrow"/>
  <text x="280" y="485" class="message">LP代币归管理员所有</text>
  
  <!-- 注释框3 -->
  <rect x="380" y="520" width="160" height="55" class="note" rx="5"/>
  <text x="460" y="535" class="message" text-anchor="middle">设置ETH/Meme汇率</text>
  <text x="460" y="550" class="message" text-anchor="middle">例如: 1 ETH = 1000 Meme</text>
  <text x="460" y="565" class="message" text-anchor="middle">流动性池正式开放</text>
  
  <!-- 步骤4: 从流动性池购买 -->
  <rect x="455" y="590" width="10" height="50" class="activation"/>
  <rect x="795" y="590" width="10" height="50" class="activation"/>
  <line x1="630" y1="600" x2="465" y2="600" class="arrow"/>
  <text x="540" y="595" class="message">4. 从流动性池购买</text>
  <text x="540" y="610" class="message">swapETHForTokens</text>
  
  <!-- 管理员收益2 -->
  <line x1="465" y1="620" x2="795" y2="620" class="arrow"/>
  <text x="630" y="615" class="message">交易手续费分成</text>
  
  <line x1="465" y1="630" x2="630" y2="630" class="arrow"/>
  <text x="540" y="625" class="message">代币转给买家</text>
  
  <!-- 收益注释2 -->
  <rect x="20" y="580" width="160" height="70" class="revenue" rx="5"/>
  <text x="100" y="595" class="message" text-anchor="middle">💰 收益阶段2</text>
  <text x="100" y="610" class="message" text-anchor="middle">作为LP提供者</text>
  <text x="100" y="625" class="message" text-anchor="middle">获得交易手续费</text>
  <text x="100" y="640" class="message" text-anchor="middle">可随时撤回流动性</text>
  
</svg>